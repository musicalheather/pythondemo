apiVersion: apps/v1
kind: Deployment
metadata:
  name: "demo-deployment"
  namespace: "demo-project"
spec:
  replicas: 5
  selector:
    matchLabels:
      app: demoproject
  template:
    metadata:
      labels:
        app: "demoproject"
    spec:
      containers:
      - image: 359747720927.dkr.ecr.us-east-1.amazonaws.com/demoproject:v1
        imagePullPolicy: Always
        name: "demo"
        ports:
        - containerPort: 8000
        env:
          - name: DBHOST
            value: "demo-database.cehndwj7vnlb.us-east-1.rds.amazonaws.com" #{{ rds_host }}
          - name: DBPORT
            value: "8000" #{{ rds_port }}
          - name: DBNAME
            value: "demo-database" #{{ rds_db_name }}
          - name: PGUSER
            value: "postgres" #{{ rds_user }}
          - name: PGPASS
            value: "postgres" #{{ rds_pass }}
